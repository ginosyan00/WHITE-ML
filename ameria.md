# Ameriabank vPOS 3.1 API նկարագրություն

## Ներածություն

Սույն փաստաթուղթը տեխնիկական նկարագիր է, որտեղ ներկայացված է «AmeriaBank vPOS 3.1» վճարային համակարգի միացման և հետագա օգտագործման համար անհրաժեշտ տեղեկատվությունը: Համակարգին միանալու համար անհրաժեշտ է դիմել Ամերիաբանկ:

## Աշխատանքի ընդհանուր դրույթները

API փոխգործունեությունը կատարվում է REST (ադմինիստրավորման էջը՝ SOAP) արձանագրության միջոցով տվյալների փոխանակման ճանապարհով՝ հետևյալ հասցեներով:

| URL | Նկարագրություն |
|-----|-----------------|
| `https://servicestest.ameriabank.am/VPOS/` | Հիմնական վճարային համակարգի հասցե |
| `https://testpayments.ameriabank.am/Admin/webservice/TransactionsInformationService.svc?wsdl` | Գործարքների մասին տեղեկատվության ստացման հասցե |

## Աշխատանքի սխեմա

1. Հաճախորդը Առեւտրային կետի համակարգում ձեւակերպում է պատվեր:
2. Հաճախորդի կողմից պատվերի հաստատումից հետո, Առեւտրային կետի համակարգը գրանցում է պատվերը վճարային համակարգում:
3. Ի պատասխան գրանցման հարցման՝ վճարային համակարգը տրամադրում է պատվերի նույնականացուցիչը:
4. Առեւտրային կետի համակարգը վերահասցեավորում է հաճախորդին վճարման տվյալների մուտքագրման էջ:
5. Հաճախորդը լրացնում և ուղարկում է տվյալները պրոցեսինգային կենտրոնի սերվերին:
6. Պրոցեսինգային կենտրոնի համակարգը ստուգում է քարտի առկայությունը 3D Secure (SecureCode)-ում և վերահասցեավորում է հաճախորդին ACS (Access Control Server) էջ:
7. ACS համակարգում տվյալները լրացնելուց և վճարումն իրականացնելուց հետո հաճախորդը վերահասցեավորվում է այն հասցեի վրա, որն արդեն նշվել էր Առեւտրային կետի կողմից պատվերը գրանցելիս:
8. Հաճախորդը վերահասցեավորվում է Առեւտրային կետի էջ:
9. Առեւտրային կետի համակարգն ըստ պատվերի համարի կատարում է հարցում պատվերի կարգավիճակի մասին:
10. Վճարային համակարգը ուղարկում է պատվերի կարգավիճակը և վճարման մնացած տվյալները:
11. Առեւտրային կետի համակարգը հաճախորդին ցույց է տալիս կատարված գործարքի տվյալները իր էջում կամ վերահասցեավորում է վճարային համակարգի էջին:

## Հարցման և պատասխանի ընդհանուր կառուցվածքը

### 1. Վճարման կոդի գեներացման գործառույթ

**URL:** `https://servicestest.ameriabank.am/VPOS/api/VPOS/InitPayment`

#### Հարցման պարամետրեր (InitPaymentRequest)

| Պարամետր | Նկարագրություն | Տվյալների տիպ | Անհրաժեշտություն |
|----------|-----------------|----------------|-------------------|
| ClientID | Առեւտրային կետի նույնականացուցիչ | string | Այո |
| Username | Առեւտրային կետի մուտքի անուն | string | Այո |
| Password | Առեւտրային կետի գաղտնաբառ | string | Այո |
| Currency | Գործարքի արժույթ (ISO կոդ) 051 - AMD (լռելայն), 978 - EUR, 840 - USD, 643 - RUB | string | Ոչ |
| Description | Գործարքի նկարագիր | string | Այո |
| OrderID | Գործարքի համար | integer | Այո |
| Amount | Վճարման գումար | decimal | Այո |
| BackURL | Առեւտրային կետի հասցե՝ վճարումից հետո հետ վերադառնալու համար | string | Ոչ |
| Opaque | Հավելյալ տվյալներ | string | Ոչ |
| CardHolderID | Նույնականացուցիչ կապակցված գործարքների իրականացնելու համար (անհրաժեշտ է միայն քարտի ամրակցման ժամանակ) | string | Ոչ |
| Timeout | Սեսսիայի տեւողություն՝ վայրկյաններով։ Առավելագույն արժեքը կարող է լինել 1200 վայրկյան։ Եթե պարամետրը նշված չէ, սահմանվում է լռելյայն արժեքը (1200 վայրկյան – 20 րոպե) | integer | Ոչ |

#### Հարցման օրինակ

**application/json:**
```json
{
  "ClientID": "sample string 1",
  "Amount": 2.0,
  "OrderID": 3,
  "BackURL": "sample string 4",
  "Username": "sample string 5",
  "Password": "sample string 6",
  "Description": "sample string 7",
  "Currency": "sample string 8",
  "CardHolderID": "sample string 9",
  "Opaque": "sample string 10",
  "Timeout": 110
}
```

**application/xml:**
```xml
<InitPaymentRequest>
  <ClientID>sample string 1</ClientID>
  <Amount>2</Amount>
  <OrderID>3</OrderID>
  <BackURL>sample string 4</BackURL>
  <Username>sample string 5</Username>
  <Password>sample string 6</Password>
  <Description>sample string 7</Description>
  <Currency>sample string 8</Currency>
  <CardHolderID>sample string 9</CardHolderID>
  <Opaque>sample string 10</Opaque>
  <Timeout>110</Timeout>
</InitPaymentRequest>
```

#### Հարցման պատասխան (InitPaymentResponse)

| Պարամետր | Նկարագրություն | Տվյալների տիպ | Անհրաժեշտություն |
|----------|-----------------|----------------|-------------------|
| PaymentID | Վճարման կոդ | string | |
| ResponseCode | Գործառնության պատասխանի կոդ (կատարվել է հաջողությամբ=1) | integer | |
| ResponseMessage | Գործառնության պատասխանի նկարագիր | string | |

#### Պատասխանի օրինակ

**application/json:**
```json
{
  "PaymentID": "sample string 1",
  "ResponseCode": 2,
  "ResponseMessage": "sample string 3"
}
```

**application/xml:**
```xml
<InitPaymentResponse>
  <PaymentID>sample string 1</PaymentID>
  <ResponseCode>2</ResponseCode>
  <ResponseMessage>sample string 3</ResponseMessage>
</InitPaymentResponse>
```

Այնուհետև առեւտրային կետի կայքը պետք է վերահասցեավորի հաճախորդին հետևյալ հասցեին:

`https://servicestest.ameriabank.am/VPOS/Payments/Pay?id=@id&lang=@lang`

#### URL պարամետրեր

| Պարամետր | Նկարագրություն | Տվյալների տիպ | Անհրաժեշտություն |
|----------|-----------------|----------------|-------------------|
| id | Վճարման կոդ | string | Այո |
| lang | Ինտերֆեյսի լեզու (am-հայերեն, ru-ռուսերեն, en-անգլերեն) | string | Ոչ |

Վճարումն իրականացնելուց հետո համակարգը վերադարձնում է Առեւտրային կետի սերվերին BackURL հասցեով՝ ուղարկելով հետևյալ պարամետրերը:

| Պարամետր | Նկարագրություն | Տվյալների տիպ | Անհրաժեշտություն |
|----------|-----------------|----------------|-------------------|
| orderID | Գործարքի համար | string | Այո |
| responseCode | Գործառնության պատասխանի կոդ (կատարվել է հաջողությամբ =00) | string | Այո |
| paymentID | Վճարման կոդ | string | Այո |
| opaque | Լրացուցիչ տվյալներ | string | Այո |

**Գործարքը վերջնականապես ավարտելու համար անհրաժեշտ է կատարել GetPaymentDetails հարցումը:**

### 2. Վճարման մասին տեղեկատվության ստացման գործառույթ

**URL:** `https://servicestest.ameriabank.am/VPOS/api/VPOS/GetPaymentDetails`

#### Հարցման պարամետրեր (PaymentDetailsRequest)

| Պարամետր | Նկարագրություն | Տվյալների տիպ | Անհրաժեշտություն |
|----------|-----------------|----------------|-------------------|
| PaymentID | Վճարման կոդ | string | Այո |
| Username | Առեւտրային կետի մուտքի անուն | string | Այո |
| Password | Առեւտրային կետի գաղտնաբառ | string | Այո |

#### Հարցման օրինակ

**application/json:**
```json
{
  "PaymentID": "sample string 1",
  "Username": "sample string 2",
  "Password": "sample string 3"
}
```

**application/xml:**
```xml
<PaymentDetailsRequest>
  <PaymentID>sample string 1</PaymentID>
  <Username>sample string 2</Username>
  <Password>sample string 3</Password>
</PaymentDetailsRequest>
```

#### Հարցման պատասխան (PaymentDetailsResponse)

| Պարամետր | Նկարագրություն | Տվյալների տիպ | Անհրաժեշտություն |
|----------|-----------------|----------------|-------------------|
| Amount | Գործարքի գումար | decimal | |
| ApprovedAmount | Հաճախորդի քարտին արգելափակված գումար | decimal | |
| ApprovalCode | Գործարքի հավաստագրման կոդ | string | |
| CardNumber | Քարտի քողարկված համար | string | |
| ClientName | Քարտապանի անուն | string | |
| ClientEmail | Քարտապանի էլ. հասցե | string | |
| Currency | Գործարքի արժույթ | string | |
| DateTime | Գործարքի ամսաթիվ | string | |
| DepositedAmount | Առեւտրային կետի հաշվին մուտքագրված գումար | decimal | |
| Description | Գործարքի մասին տեղեկատվություն | string | |
| MerchantId | Առեւտրային կետի համար | string | |
| Opaque | Լրացուցիչ տվյալներ | string | |
| OrderID | Գործարքի եզակի համար | integer | |
| PaymentState | Վճարման կարգավիճակ (Աղյուսակ 2.) | string | |
| PaymentType | Վճարման տիպ (5- MainRest (arca), 7- PayPal, 6- Binding) | PaymentsEnum | |
| ResponseCode | Գործառնության պատասխանի կոդ (կատարվել է հաջողությամբ=00) (Աղյուսակ 1.) | string | |
| rrn | Գործարքի կոդ | string | |
| TerminalId | Առեւտրային կետի ենթահամար | string | |
| TrxnDescription | Գործարքի նկարագիր | string | |
| OrderStatus | Վճարման կարգավիճակի կոդ (Աղյուսակ 2.) | integer | |
| RefundedAmount | Քարտին վերադարձվող գումարի մեծություն | decimal | |
| CardHolderID | Նույնականացուցիչ կապակցված գործարքների իրականացնելու համար | string | |
| MDOrderID | Վճարային համակարգի նունականացուցիչ | string | |
| PrimaryRC | Հիմնական կոդ | string | |
| ExpDate | Քարտի գործողության ժամկետի ավարտի ամսաթիվ | string | |
| ProcessingIP | IP հասցե | string | |
| BindingID | Կապակցման նունականացուցիչ | string | |
| ActionCode | Գործողության կոդ | string | |
| ExchangeRate | Փոխարժեք | decimal | |

### 3. Վճարման հաստատման գործառույթ

**URL:** `https://servicestest.ameriabank.am/VPOS/api/VPOS/ConfirmPayment`

#### Հարցման պարամետրեր (ConfirmPaymentRequest)

| Պարամետր | Նկարագրություն | Տվյալների տիպ | Անհրաժեշտություն |
|----------|-----------------|----------------|-------------------|
| PaymentID | Վճարման կոդ | string | Այո |
| Username | Առեւտրային կետի մուտքի անուն | string | Այո |
| Password | Առեւտրային կետի գաղտնաբառ | string | Այո |
| Amount | Հաստատվող գումար | decimal | Այո |

#### Հարցման օրինակ

**application/json:**
```json
{
  "PaymentID": "sample string 1",
  "Username": "sample string 2",
  "Password": "sample string 3",
  "Amount": 10
}
```

#### Հարցման պատասխան (ConfirmPaymentResponse)

| Պարամետր | Նկարագրություն | Տվյալների տիպ | Անհրաժեշտություն |
|----------|-----------------|----------------|-------------------|
| ResponseCode | Գործառնության պատասխանի կոդ (կատարվել է հաջողությամբ=00) (Աղյուսակ 1.) | string | |
| ResponseMessage | Գործառնության պատասխանի նկարագիր | string | |
| Opaque | Հավելյալ տվյալներ | string | |

### 4. Վճարման չեղարկման գործառույթ

**URL:** `https://servicestest.ameriabank.am/VPOS/api/VPOS/CancelPayment`

> **Ուշադրությո՛ւն:** նշված գործառույթը գործում է վճարման իրականացնելուց հետո 72 ժամվա ընթացքում:

#### Հարցման պարամետրեր (CancelPaymentRequest)

| Պարամետր | Նկարագրություն | Տվյալների տիպ | Անհրաժեշտություն |
|----------|-----------------|----------------|-------------------|
| PaymentID | Վճարման կոդ | string | Այո |
| Username | Առեւտրային կետի մուտքի անուն | string | Այո |
| Password | Առեւտրային կետի գաղտնաբառ | string | Այո |

#### Հարցման պատասխան (CancelPaymentResponse)

| Պարամետր | Նկարագրություն | Տվյալների տիպ | Անհրաժեշտություն |
|----------|-----------------|----------------|-------------------|
| Opaque | Լրացուցիչ տվյալներ | string | |
| ResponseCode | Գործառնության պատասխանի կոդ (կատարվել է հաջողությամբ=00) (Աղյուսակ 1.) | string | |
| ResponseMessage | Գործառնության պատասխանի նկարագիր | string | |

**Վճարումները կարելի է իրականացնել:**
- Մեկ փուլով, երբ վճարման ենթակա ամբողջ գումարը միանգամից ելքագրվում է գնորդի հաշվից
- Երկու փուլով. երբ վճարման ենթակա գումարը առաջին փուլում սառեցվում է գնորդի հաշվին, իսկ երկրորդ փուլում՝ ելքագրվում վերջինիս հաշվից:

Երկու փուլով իրականացվող վճարման դեպքում երկրորդ փուլի իրականացման և գնորդի (քարտապանի) հաշվից գումարի ելքագրման համար անհրաժեշտ է կատարել Confirmation հարցումը: Վճարումը չեղարկելու և գումարը գնորդի (քարտապանի) հաշվին հետ փոխանցելու նպատակով անհրաժեշտ է կատարել CancelPayment հարցումը:

### 5. Վճարված գումարի մասնակի վերադարձի գործառույթ

**URL:** `https://servicestest.ameriabank.am/VPOS/api/VPOS/RefundPayment`

#### Հարցման պարամետրեր (RefundPaymentRequest)

| Պարամետր | Նկարագրություն | Տվյալների տիպ | Անհրաժեշտություն |
|----------|-----------------|----------------|-------------------|
| PaymentID | Վճարման կոդ | string | Այո |
| Username | Առեւտրային կետի մուտքի անուն | string | Այո |
| Password | Առեւտրային կետի գաղտնաբառ | string | Այո |
| Amount | Մասնակի վերադարձվող գումարը, որը չի կարող գերազանցել գործարքի գումարը | decimal | Այո |

#### Հարցման պատասխան (RefundPaymentResponse)

| Պարամետր | Նկարագրություն | Տվյալների տիպ | Անհրաժեշտություն |
|----------|-----------------|----------------|-------------------|
| Opaque | Լրացուցիչ տվյալներ | string | |
| ResponseCode | Գործառնության պատասխանի կոդ (կատարվել է հաջողությամբ=00) (Աղյուսակ 1.) | string | |
| ResponseMessage | Գործառնության պատասխանի նկարագիր | string | |

### 6. Բոլոր վճարումների մասին տեղեկատվության ստացման գործառույթ

**GetTransactionList**

#### Հարցման պարամետրեր (TransactionClient)

| Պարամետր | Նկարագրություն | Տվյալների տիպ | Անհրաժեշտություն |
|----------|-----------------|----------------|-------------------|
| ClientID | Առեւտրային կետի նույնականացուցիչ | string | Այո |
| Username | Առեւտրային կետի մուտքի անուն | string | Այո |
| Password | Առեւտրային կետի գաղտնաբառ | string | Այո |
| StartDate | Գործարքների ցանկ՝ սկսած նշված ամսաթվից (ձեւաչափ՝ տարի/ամիս/օր ժամ/րոպե) | string | Այո |
| EndDate | Գործարքների ցանկ՝ մինչեւ նշված ամսաթիվը (ձեւաչափ՝ տարի/ամիս/օր ժամ/րոպե) | string | Այո |

### 7. Խնդրահարույց գործարքների վերաբերյալ տեղեկատվության ստացման գործառույթ

**GetProblemTransactions**

#### Հարցման պարամետրեր (TransactionClient)

| Պարամետր | Նկարագրություն | Տվյալների տիպ | Անհրաժեշտություն |
|----------|-----------------|----------------|-------------------|
| ClientID | Առեւտրային կետի նույնականացուցիչ | string | Այո |
| Username | Առեւտրային կետի մուտքի անուն | string | Այո |
| Password | Առեւտրային կետի գաղտնաբառ | string | Այո |
| EndDate | Գործարքների ցանկ՝ սկսած նշված ամսաթվից (ձեւաչափ՝ տարի/ամիս/օր ժամ/րոպե) | string | Այո |
| StartDate | Գործարքների ցանկ՝ մինչեւ նշված ամսաթիվը (ձեւաչափ՝ տարի/ամիս/օր ժամ/րոպե) | string | Այո |

## Կապակցված գործարքներ

Կապակցված գործարքները առեւտրային կետին հնարավորություն են տալիս իրականացնել հերթական վճարումներ՝ առանց օգտագործողի կողմից վճարային քարտի տվյալները կրկին մուտքագրելու անհրաժեշտության: Օգտագործողը, ով արդեն մեկ անգամ մուտքագրել է քարտային տվյալները և հաջողությամբ վճարում իրականացրել, կարող է կատարել հետագա վճարումները՝ առանց քարտի տվյալները մուտքագրելու:

Գնորդի քարտը կապակցելու համար առեւտրային կետը պետք է ուղարկի նույնականացման համար (CardHolderID) ըստ վերևում նկարագրված սխեմայի:

### 8. Կապակցված վճարման իրականացման գործառույթ

**URL:** `https://servicestest.ameriabank.am/VPOS/api/VPOS/MakeBindingPayment`

#### Հարցման պարամետրեր (MakeBindingPaymentRequest)

| Պարամետր | Նկարագրություն | Տվյալների տիպ | Անհրաժեշտություն |
|----------|-----------------|----------------|-------------------|
| ClientID | Առեւտրային կետի նույնականացուցիչ | string | Այո |
| Username | Առեւտրային կետի մուտքի անուն | string | Այո |
| Password | Առեւտրային կետի գաղտնաբառ | string | Այո |
| Currency | Գործարքի արժույթ (ISO կոդ) 051 - AMD (լռելայն), 978 - EUR, 840 - USD, 643 - RUB | string | Ոչ |
| Description | Գործարքի նկարագիր | string | Այո |
| OrderID | Գործարքի կոդ | integer | Այո |
| Amount | Վճարման գումար | decimal | Այո |
| Opaque | Լրացուցիչ տվյալներ | string | Ոչ |
| CardHolderID | Նույնականացուցիչ կապակցված գործարքների իրականացնելու համար | string | Այո |
| BackURL | Առեւտրային կետի հասցե՝ վճարումից հետո հետ վերադառնալու համար | string | Այո |
| PaymentType | Վճարման տիպ (5- MainRest (arca), 7- PayPal, 6- Binding) | PaymentsEnum | Այո |

### 9. Կապակցվածության մասին տեղեկատվության ստացման գործառույթ

**URL:** `https://servicestest.ameriabank.am/VPOS/api/VPOS/GetBindings`

#### Հարցման պարամետրեր (GetBindingsRequest)

| Պարամետր | Նկարագրություն | Տվյալների տիպ | Անհրաժեշտություն |
|----------|-----------------|----------------|-------------------|
| ClientID | Առեւտրային կետի նույնականացուցիչ | string | Այո |
| Password | Առեւտրային կետի գաղտնաբառ | string | Այո |
| Username | Առեւտրային կետի մուտքի անուն | string | Այո |
| PaymentType | Վճարման տիպ (5- MainRest (arca), 7- PayPal, 6- Binding) | PaymentsEnum | Այո |

### 10. Կապակցվածության ապաակտիվացման գործառույթ

**URL:** `https://servicestest.ameriabank.am/VPOS/api/VPOS/DeactivateBinding`

#### Հարցման պարամետրեր (DeactivateBindingRequest)

| Պարամետր | Նկարագրություն | Տվյալների տիպ | Անհրաժեշտություն |
|----------|-----------------|----------------|-------------------|
| ClientID | Առեւտրային կետի նույնականացուցիչ | string | Այո |
| Password | Առեւտրային կետի գաղտնաբառ | string | Այո |
| Username | Առեւտրային կետի մուտքի անուն | string | Այո |
| PaymentType | Վճարման տիպ (5- MainRest (arca), 7- PayPal, 6- Binding) | PaymentsEnum | Այո |
| CardHolderID | Նույնականացուցիչ կապակցված գործարքների իրականացնելու համար | string | Այո |

### 11. Կապակցվածության ակտիվացման գործառույթ

**URL:** `https://servicestest.ameriabank.am/VPOS/api/VPOS/ActivateBinding`

#### Հարցման պարամետրեր (ActivateBindingRequest)

| Պարամետր | Նկարագրություն | Տվյալների տիպ | Անհրաժեշտություն |
|----------|-----------------|----------------|-------------------|
| ClientID | Առեւտրային կետի նույնականացուցիչ | string | Այո |
| Password | Առեւտրային կետի գաղտնաբառ | string | Այո |
| Username | Առեւտրային կետի մուտքի անուն | string | Այո |
| PaymentType | Վճարման տիպ (5- MainRest (arca), 7- PayPal, 6- Binding) | PaymentsEnum | Այո |
| CardHolderID | Նույնականացուցիչ կապակցված գործարքների իրականացնելու համար | string | |

## Աղյուսակ 1. Գործառնությունների կոդերը և նկարագրությունները

| Պատասխանի կոդ | Պատասխան հաղորդագրություն | Պատասխան հաղորդագրության նկարագիր (RU) |
|-----------------|---------------------------|------------------------------------------|
| 0-1 | sv_unavailable | Սպառվել է պրոցեսինգային կետրոնի պատասխանին սպասելու ժամանակը: |
| 0-100 | no_payments_yet | Վճարման փորձեր չեն եղել: |
| 0-2000 | Decline. PAN blacklisted | Գործարքը մերժվել է, քանի որ քարտը գրանցված է սև ցուցակում: |
| 0-2001 | Decline. IP blacklisted | Գործարքը մերժվել է, քանի որ հաճախորդի IP հասցեն գրանցված է սև ցուցակում: |
| 0-20010 | BLOCKED_BY_LIMIT | Գործարքը մերժվել է, քանի որ վճարումը գերազանցել է թողարկող բանկի կողմից սահմանված սահմանաչափը |
| 0-2002 | Decline. Payment over limit | Գործարքը մերժվել է, քանի որ վճարումը գերազանցել է սահմանված սահմանաչափը: |
| 0-2004 | SSL without CVC forbidden | Արգելվում է SSL –ի միջոցով առանց SVС մուտքագրման վճարում իրականացնել: |
| 0-2005 | Decline. 3DSec sign error | Մենք չենք կարողացել ստուգել թողարկողի ստորագրությունը, այսինքն PARes-ն ընթեռնելի էր, բայց սխալ էր ստորագրված: |
| 0-2006 | Decline. 3DSec decline | Թողարկողը մերժել է նույնականացումը: |
| 0-2007 | Decline. Payment time limit | Սպառվել է վճարման գրանցման պահից սկսած քարտի տվյալները մուտքագրելու համար սահմանված ժամկետը (նշված պահին թայմաութը տեղի կունենա 20րոպեից): |
| 0-2011 | Declined. PaRes status is unknown | Քարտը դիտարկվել է որպես 3d secure քարտում ներգրավված, բայց թողարկող բանկը (տվյալ պահին) պատրաստ չէ իրականացնել գործարքի 3ds: |
| 0-2012 | Operation not supported | Նշված գործարքը չի սպասարկվում համակարգի կողմից: |
| 0-2013 | Исчерпаны попытки оплаты | Վճարման փորձերը սպառվել են: |
| 0-2015 | Decline by iReq in VERes | DS-ի VERes-ը պարունակում է iReq, որի հետևանքով վճարումը մերժվել է: |
| 0-2016 | Declined. VeRes status is unknown | Նշանակում է որ թողարկող բանկը (տվյալ պահին) պատրաստ չէ իրականացնել գործարքի 3ds (օրինակ՝ չի աշխատում բանկի ACS-ն) և մենք չենք կարող ստուգել արդյոք քարտը ներգրավված է 3d secure-ում, թե ոչ: |
| 0-2018 | Declined. DS connection timeout | Directory server Visa կամ MasterCard հասանելի չեն, կամ քարտի ներգավվածության հարցման (VeReq) պատասխանը չի ստացվել կապի խափանման պատճառով: |
| 0-2019 | Decline by iReq in PARes | Թողարկողի PARes պարունակում է iReq, ինչի արդյունքում վճարումը մերժվել է: |
| 0-9000 | Started | Գործարքի սկզբի կարգավիճակ: |
| 00 | Approved. | Վճարումը հաջողությամբ իրականացվել է: |
| 01 | Order already exists | Նշված համարով պատվերն արդեն գրանցված է համակարգում: |
| 0100 | Decline. Card declined | Թողարկող բանկն արգելել է քարտով առցանց գործարքների իրականացումը: |
| 01001 | Decline. Data input timeout | Տրվում է գործարքի գրանցման պահին, այսինքն այն պահին, երբ քարտի տվյալները դեռևս չեն ներմուծվել: |
| 0101 | Decline. Expired card | Քարտի գործողության ժամկետը սպառվել է: |
| 0103 | Decline. Call issuer | Թողարկող բանկի հետ կապը բացակայում է, առեւտրային կետը պետք է կապ հաստատի թողարկող բանկի հետ: |
| 0104 | Decline. Card declined | Սահմանափակումների ենթարկված հաշվով գործարք կատարելու փորձ: |
| 0107 | Decline. Call issuer | Անհրաժեշտ է դիմել թողարկող բանկին: |
| 0109 | Decline. Invalid merchant | Առեւտրային կետի/տերմինալի նույնականացուցիչը սխալ է նշված: |
| 0110 | Decline. Invalid amount | Գործարքի գումարը սխալ է նշված: |
| 0111 | Decline. Wrong PAN | Քարտի համարը սխալ է: |
| 0116 | Decline. Not enough money | Գործարքի գումարը գերազանցում է ընտրված հաշվին առկա միջոցների հասանելի մնացորդը: |
| 0120 | Decline. Not allowed | Գործառնության մերժում. գործարքն արգելված է թողարկողի կողմից: |
| 0121 | Decline. Excds wdrwl limt | Ձեռնարկվել է թողարկող բանկի կողմից սահմանված օրական սահմանաչափը գերազանցող գումարով գործարքի իրականացման փորձ: |
| 0123 | Decline. Excds wdrwl ltmt | Գերազանցվել է գործարքների թվի սահմանաչափը: |
| 0125 | Decline. Card declined | Քարտի համարը սխալ է: Սառեցված գումարը գերազանցող գումարի վերադարձման փորձ, զրոյական գումարի վերադարձման փորձ: |
| 0151017 | Decline. 3DSec comm error | 3-D Secure – կապի խափանում |
| 0151018 | Decline. Processing timeout | Թայմաութ պրոցեսինգի ընթացքում: Չի հաջողվել ուղարկել: |
| 0151019 | Decline. Processing timeout | Թայմաութ պրոցեսինգի ընթացքում: Հաջողվել է ուղարկել, բայց բանկից պատասխան չի ստացվել: |
| 02001 | Decline. Fraud | Զեղծարար գործարք (ըստ պրոցեսինգի կամ վճարային ցանցի): |
| 02003 | Decline. SSL restricted | SSL (Не 3d-Secure/SecureCode) գործարքներն արգելված են տվյալ առեւտրային կետի համար: |
| 02005 | 3DS rule failed | Վճարումը չի համապատասխանում 3ds ստուգման կանոնների պահանջներին: |
| 0208 | Decline. Card is lost | Քարտը համարվում է կորած: |
| 0209 | Decline. Card limitations exceeded | Գերազանցվել են քարտի համար սահմանված սահմանափակումները: |
| 0341014 | Decline. General Error | RBS մերժման կոդ |
| 0341041 | Decline. Refund failed | Դրամական միջոցների վերադարձման սխալ: |
| 05 | Incorrect Parameters | Հարցման պարամետրի նշանակության սխալ: |
| 071015 | Decline. Input error | Ներմուծվել են քարտի սխալ պարամետրեր: |
| 08204 | Decline. Duplicate order | Նման պատվեր արդեն գրանցվել է (ստուգումը ըստ ordernumber-ի): |
| 09001 | RBS internal error | RBS մերժման ներքին կոդ |
| 0902 | Decline. Invalid trans | Քարտապանը փորձում է կատարել իր համար արգելված գործարք: |
| 0903 | Decline. Re-enter trans. | Ձեռնարկվել է թողարկող բանկի կողմից սահմանված սահմանաչափը գերազանցող գործարքի փորձ: |
| 0904 | Decline. Format error | Թողարկող բանկի տեսանկյունից հաղորդագրության սխալ ձեւաչափ: |
| 0907 | Decline. Host not avail. | Տվյալ քարտը թողարկած բանկի հետ կապ հաստատված չէ: |
| 0909 | Decline. Call issuer | Համակարգի գործունեության ընդհանուր բնույթի սխալ, որը հայտնաբերվում է վճարային ցանցի կամ թողարկող բանկի կողմից: |
| 0910 | Decline. Host not avail. | Թողարկող բանկն անհասանելի է: |
| 0913 | Decline. Invalid trans | Ցանցի տեսանկյունից սխալ ձեւաչափ: |
| 0914 | Decline. Orig trans not found | Գործարքը չի գտնվել (երբ ուղարկվում է ավարտ, reversal կամ refund): |
| 0999 | Declined by fraud | Բացակայում է գործարքի հավաստագրման սկիզբը: Մերժվել է զեղծարարության կամ 3dsec. սխալի պատճառով: |
| 02 | | Պատվերը մերժվել է վճարման վավերապայմաններում առկա սխալի պատճառով: |
| 03 | Incorrect Currency | Անհայտ (արգելված) արժույթ |
| 04 | Require parameter missed | Բացակայում է հարցման պարտադիր պարամետրը: |
| 06 | Unregistered OrderId | Չգրանցված OrderId |
| 07 | System Error | Համակարգի սխալ |
| 20 | Incorrect Username and Password | Օգտագործողի անունը կամ ծածկագիրը սխալ է: |
| 30 | Incorrect Order ID | Պատվերի նույնականացման համարը սխալ է: |
| 50 | Payment sum error | |
| 500 | Unknown error | |
| 510 | Incorrect parameters | |
| 513 | Do not have Refund operation permission | |
| 514 | Do not have Reverse operation permission | |
| 520 | Overtime error | |
| 550 | System Error | Համակարգի սխալ |
| 560 | Operation failed | |

## Աղյուսակ 2. Վճարման կարգավիճակի նշանակությունների ցանկ

| Վճարման կարգավիճակ | Պատվերի կարգավիճակի կոդ | Նկարագրություն |
|---------------------|--------------------------|-----------------|
| payment_started | 0 | Պատվերը գրանցվել է, բայց չի վճարվել: |
| payment_approved | 1 | Իրականացվել է պատվերի գումարի նախնական հավաստագրում: |
| payment_declined | 6 | Հավաստագրումը մերժվել է: |
| payment_deposited | 2 | Իրականացվել է պատվերի գումարի հավաստագրում; |
| payment_refunded | 4 | Գործարքի գծով իրականացվել է գումարի վերադարձի գործառնություն: |
| payment_autoauthorized | 5 | Ձեռնարկվել է հավաստագրում թողարկող բանկի ACS միջոցով: |
| payment_void | 3 | Հավաստագրումը չեղարկվել է: |
  